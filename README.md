# Procedural-Maze
This Repo is for my games engines 1 project

This is a game that will procedurally generate a maze as the player goes on, allowing the user to navigate a randomly generated maze, accumulating score the longer they survive. The complexity of the maze increases overtime, as well as increasing the speed of the camera and the player. Once the player falls out of sight of the camera, the game is over. The game is played by clicking a location with the mouse that the player will travel to using automated path finding


Below is a breakdown of all scripts and where the code came from

| Class/asset | Source |
|-----------|-----------|
| PlayerController.cs | Self written except line 53-60, this was expanded upon from https://www.youtube.com/channel/UCYbK_tjZ2OrIZFBvU6CCMiA |
| LevelGenerator.cs | Self witten |
| Lofi man and animations | Same as the lines above, this was taken from https://www.youtube.com/channel/UCYbK_tjZ2OrIZFBvU6CCMiA and expanded upon |
| All other assets | Self Made |


When the user starts the game, it will generate a random set of walls that the user has to navigate

![Game_start](https://user-images.githubusercontent.com/43176942/145604185-56fa8e3a-48a4-4abe-9a85-a4dfd533cf79.PNG)


As the user continues on through the game, the score increases in the top left. Also the frequency of walls increases as the difficulty is tracked with score. 

![Game_running](https://user-images.githubusercontent.com/43176942/145605181-54f8d79e-734a-4cfd-bbd4-97e7a1a5b5b3.PNG)


This difficulty was generated by calculating a random number whenevr you attempt to generate a wall. If the number is below the difficulty, the wall will generate. Therefore, the lower the difficulty, the harder the game. This was accomplished using these 2 snippets

![Using_difficulty_snip](https://user-images.githubusercontent.com/43176942/145605152-badc20bb-81b2-4f8c-b815-962960706eb3.PNG)


Whenever a new piece of land is generated, the difficulty is required to change. There is a check done for the difficulty. If the difficulty is beyond a certain number, we won't change it anymore as the game can reach a certain difficulty where you are forced to fail. If the difficulty is within the required range, we will reduce it by one, thus slightly increasing the difficulty.

![Difficulty_calculation_snip](https://user-images.githubusercontent.com/43176942/145605167-2c378c1b-3135-4e17-800b-5d0903d569dc.PNG)
We utilize this difficulty when we want to generate the walls, as explained above

As the player goes on, there is a chance they fail. I discovered that if the player's x value is 14 below that of the camera, it can no longer be seen. This is the point I decided to fail the player. I decided to make it both impossible for the player to move and stop the camera from moving once the game ends. The player is also shown a game over screen with their score

![Game_over](https://user-images.githubusercontent.com/43176942/145606128-77b699b0-4667-4959-8beb-e1e690c622c4.PNG)

I accomplished this using a couple of tricks.

![Level_generator_game_over_decider_code_snip](https://user-images.githubusercontent.com/43176942/145606307-5b3d0964-3d56-4c84-866d-6107fbf1fe2c.PNG)
Firstly I check to see if the camera is 14 ahead of the player in it's x position. If so, I display the game over screen, and I set the game over check to true. 


When running the game, every tick, there is a check to see if the game over check is true

![Level_generator_game_over_check_code_snip](https://user-images.githubusercontent.com/43176942/145606760-4916b0cb-60e0-411f-818d-792cf402e391.PNG)
If true, we enter a for loop tht prevents the player from performing any actions, and essentially stops all functions of the script

These 2 effects are replicated in the player controller script as well

![Player_controller_game_over_decider_code_snip](https://user-images.githubusercontent.com/43176942/145607104-22dc96d4-c820-4c06-8165-b64652aeb0df.PNG)

![Player_controller_game_over_check_code_snip](https://user-images.githubusercontent.com/43176942/145607116-db28ee12-ae11-4666-af66-9bf853f63143.PNG)
In order to prevent the player from moving, you have to tell it to move(nothing). So this extra line was added after this check.


The player controller script itself controls the player in a very interesting way. I found a video froma Youtuber by the name of Brackeys: https://www.youtube.com/channel/UCYbK_tjZ2OrIZFBvU6CCMiA. They demonstrated an interesting way of controlling the player. You can set it so that when a user clicks the mouse, it will fire a ray from the camera to that point. If it is a walkable surface, it will then set this point where the ray hit as the destination for a navmesh agent.

![Brackeys_ray_destination_finder](https://user-images.githubusercontent.com/43176942/145607799-3dd3876a-467e-41d2-bfaf-9aae320698e4.png)
This was useful as it meant I had a nice user friendly way to control the player, and for newcomers to Unity and game devlopment in general, it shows a nice and interesting view of how path finding actually works while playing the game




